{"version":3,"sources":["script.js"],"names":["datas","d3","csv","item","result","institution","score","push","then","data","slice","svg","select","append","attr","style","margin","top","right","bottom","left","height","width","y","scaleLinear","domain","max","d","nice","range","x","scaleBand","map","padding","xAxis","g","call","axisBottom","tickSizeOuter","yAxis","axisLeft","remove","selectAll","enter","bandwidth"],"mappings":"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","file":"script.4ff9c723.map","sourceRoot":"..","sourcesContent":["// import d3 from \"d3\";\n\nconst datas = []\nd3.csv('./cwurData.csv', function(item) {\n  let result = {\n    institution: item.institution,\n    score: item.score\n  }\n  datas.push(result)\n}).then(function () {\n  let data = datas.slice(0,11)\n  const svg = \n  d3.select('#chartArea').append('svg')\n  .attr('width', 2500)\n  .attr('height', 500)\n  .style('background', '#cacaca')\n  \n  const margin = {\n    top: 20,\n    right: 0,\n    bottom: 30,\n    left: 40,\n  }\n  const height = 500\n  const width = 2000\n  const y = d3.scaleLinear()\n  .domain([0, d3.max(data, d => d.score)]).nice()\n  .range([height - margin.bottom, margin.top])\n\n  const x = d3.scaleBand()\n    .domain(data.map(d => d.institution))\n    .range([margin.left, width - margin.right])\n    .padding(0.5)\n\n  const xAxis = g => g\n  .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n  .call(d3.axisBottom(x)\n      .tickSizeOuter(0))\n\n  const yAxis = g => g\n  .attr(\"transform\", `translate(${margin.left},0)`)\n  .call(d3.axisLeft(y))\n  .call(g => g.select(\".domain\").remove())\n\n\n\n  svg.append(\"g\")\n      .attr(\"fill\", \"steelblue\")\n    .selectAll(\"rect\").data(data).enter().append(\"rect\")\n      .attr(\"x\", d => x(d.institution))\n      .attr(\"y\", d => y(d.score))\n      .attr(\"height\", d => y(0) - y(d.score))\n      .attr(\"width\", x.bandwidth());\n  \n  svg.append(\"g\")\n      .call(xAxis);\n  \n  svg.append(\"g\")\n      .call(yAxis);\n\n\n\n})\n\n// let dataset = [5, 10, 34, 20, 25]\n\n// console.log(d3.select('body'));\n\n\n\n\n// d3.select('body').selectAll('div')\n\n"]}